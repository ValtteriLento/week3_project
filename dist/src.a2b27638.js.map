{"version":3,"sources":["src/index.js"],"names":["document","readyState","console","log","initializeCode","addEventListener","datasetTable","getElementById","getDataset","url1","url2","fetch","datasetPromise1","json","datasetJSON1","datasetPromise2","datasetJSON2","municipalityArray","Object","values","dataset","dimension","Alue","category","label","populationArray","value","employmentArray","arrayLength","length","i","tr","createElement","td1","td2","td3","td4","innerText","toFixed","appendChild","classList","add"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["if (document.readyState !== \"loading\") {\r\n  console.log(\"Document is ready!\");\r\n  initializeCode();\r\n} else {\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    console.log(\"Document is ready after waiting!\");\r\n    initializeCode();\r\n  });\r\n}\r\nfunction initializeCode() {\r\n  const datasetTable = document.getElementById(\"dataset\");\r\n\r\n  async function getDataset() {\r\n    const url1 =\r\n      \"https://statfin.stat.fi/PxWeb/sq/4e244893-7761-4c4f-8e55-7a8d41d86eff\";\r\n    const url2 =\r\n      \"https://statfin.stat.fi/PxWeb/sq/5e288b40-f8c8-4f1e-b3b0-61b86ce5c065\";\r\n\r\n    const datasetPromise1 = await fetch(url1);\r\n    const datasetJSON1 = await datasetPromise1.json();\r\n    const datasetPromise2 = await fetch(url2);\r\n    const datasetJSON2 = await datasetPromise2.json();\r\n\r\n    const municipalityArray = Object.values(\r\n      datasetJSON1.dataset.dimension.Alue.category.label\r\n    );\r\n    const populationArray = Object.values(datasetJSON1.dataset.value);\r\n    const employmentArray = Object.values(datasetJSON2.dataset.value);\r\n\r\n    const arrayLength = municipalityArray.length;\r\n\r\n    for (var i = 0; i < arrayLength; i++) {\r\n      let tr = document.createElement(\"tr\");\r\n      let td1 = document.createElement(\"td\");\r\n      let td2 = document.createElement(\"td\");\r\n      let td3 = document.createElement(\"td\");\r\n      let td4 = document.createElement(\"td\");\r\n\r\n      td1.innerText = municipalityArray[i];\r\n      td2.innerText = populationArray[i];\r\n      td3.innerText = employmentArray[i];\r\n      td4.innerText =\r\n        ((employmentArray[i] / populationArray[i]) * 100).toFixed(2) + \"%\";\r\n      tr.appendChild(td1);\r\n      tr.appendChild(td2);\r\n      tr.appendChild(td3);\r\n      tr.appendChild(td4);\r\n      datasetTable.appendChild(tr);\r\n\r\n      if ((employmentArray[i] / populationArray[i]) * 100 > 45) {\r\n        tr.classList.add(\"green\");\r\n      } else if ((employmentArray[i] / populationArray[i]) * 100 < 25) {\r\n        tr.classList.add(\"red\");\r\n      } else {\r\n        tr.classList.add(\"default\");\r\n      }\r\n    }\r\n  }\r\n  getDataset();\r\n}\r\n"]}